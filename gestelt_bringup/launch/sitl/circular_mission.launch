<launch>
  <!-- Launches a test mission -->
  <arg name="takeoff_height" default="1.2" />
  <arg name="test_time" default="3" /> <!-- seconds, circular trajectory test time -->


  <node pkg="trajectory_publisher" type="trajectory_publisher" name="trajectory_publisher" output="screen">
        <param name="trajectory_type" value="1" />
        <param name="shape_omega" value="1.2" /> 
        <param name="initpos_z" value="1.2" />
        <param name="reference_type" value="2" />
  </node> 

  <node pkg="gestelt_bringup" name="mission" type="circular_mission_modify_mavros.py">
        <param name="takeoff_height" value="$(arg takeoff_height)" />
        <param name="test_time" value="$(arg test_time)" />
  </node>

  <node pkg="rosbag" type="record" name="record" output="screen" args="-o /home/tianchensun/gestelt_ws/data/ /mavros/setpoint_raw/local /mavros/local_position/pose  /planner/sample_trajectory"/>
</launch>